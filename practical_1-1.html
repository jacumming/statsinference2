<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Practical 1-1: Introduction to R</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Statistical Inference 2</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Term 1
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="practical_1-1.html">Practical 1 - Introduction to R</a>
    </li>
    <li>
      <a href="practical_1-2.html">Practical 2 - Sampling and Simulation</a>
    </li>
    <li>
      <a href="practical_1-3.html">Practical 3 - Likelihood Inference</a>
    </li>
    <li>
      <a href="practical_1-4.html">Practical 4 - Bayesian Inference</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Term 2
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="practical_2-1.html">Practical 1</a>
    </li>
    <li>
      <a href="practical_2-2.html">Practical 2</a>
    </li>
    <li>
      <a href="practical_2-3.html">Practical 3</a>
    </li>
    <li>
      <a href="practical_2-4.html">Practical 4</a>
    </li>
    <li>
      <a href="practical_2-5.html">Practical 5</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="install.html">
    <span class="fa fa-download"></span>
     
    Install
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-question-circle"></span>
     
    R Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="r_1_gettingstarted.html">1. Getting Started</a>
    </li>
    <li>
      <a href="r_2_variables.html">2. Variables</a>
    </li>
    <li>
      <a href="r_3_functions.html">3. Functions</a>
    </li>
    <li>
      <a href="r_4_vectors.html">4. Vectors</a>
    </li>
    <li>
      <a href="r_5_basicstats.html">5. Standard statistical functions</a>
    </li>
    <li>
      <a href="r_6_matrices.html">6. Matrices and data frames</a>
    </li>
    <li>
      <a href="r_7_plots.html">7. Plots</a>
    </li>
    <li>
      <a href="r_8_advplots.html">8. Advanced Plots</a>
    </li>
    <li>
      <a href="r_9_programming.html">9. Programming</a>
    </li>
    <li>
      <a href="r_10_statsmethods.html">10. Statistical methods</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="rstudio-ide.pdf">Cheatsheet: RStudio infterface</a>
    </li>
    <li>
      <a href="base-r.pdf">Cheatsheet: Base R</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Practical 1-1: Introduction to R</h1>

</div>


<p>This practical will introduce you to working with <code>R</code> as a
statistical programming and analysis language, as well as going through
the basics of how to use the <code>RStudio</code> editor which is a
convenient and helpful interface to <code>R</code>.</p>
<p>You will be familiar with the basics of programming with Python, but
there are some important differences between R and Python. Additionally,
R has a lot more support for statistics in terms of the functions, data
plotting, and packages that are available.</p>
<p>If you’re also taking Data Science &amp; Statistical Computing 2,
then you may already be familiar with much of this introductory material
- feel free to skip over sections that you already know and have a go at
the ‘Additional Exercises’ at the end.</p>
<p>You should make sure you complete up to and including Section 5
before moving on.</p>

<div class="goals">
<ul>
<li>New R techniques:
<ul>
<li>Basic R skills with arithmetic, functions, etc</li>
<li>Manipulating and creating vectors: <code>c</code>,
<code>seq</code>,</li>
<li>Calculating data summaries: <code>mean</code>, <code>sd</code>,
<code>var</code>, <code>min</code>, <code>max</code></li>
<li>Plotting a scatterplot with <code>plot</code>, a histogram with
<code>hist</code>, and a boxplot with <code>boxplot</code>.</li>
<li>Customising plots with labels, titles, colour, etc.</li>
</ul></li>
</ul>
</div>
<div id="getting-started" class="section level1 first" number="1">
<h1 class="first"><span class="header-section-number">1</span> Getting
Started</h1>
<p><em>R</em> is an open source programming language for statistical
computing and graphics that is widely used among statisticians for data
analysis. As <em>R</em> is a programming language and not a program
itself (like Excel) we will need some programming skills, as even the
simplest data analysis will require writing and evaluating small
fragments of code to carry out the analysis we require. To make life
easier, we will be using <em>RStudio</em> as an interface to write,
edit, and evaluate our <em>R</em> code.</p>
<div id="rstudio" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> RStudio</h2>
<p>Hopefully you will have installed your own copy of <em>R</em> and
<em>RStudio</em>, or have opened it using the AppHub or
<em>AppsAnywhere</em>. If not, check the instructions <a
href="install.html">here</a>.</p>

<div class="question">
<ul>
<li>Launch RStudio! (We won’t be using the <em>R</em> program directly;
RStudio will take care of that for us)</li>
<li>Download the Practical Script file by Right-clicking on the link
below and saving the file to somewhere accessible. The script file
contains the same practical instructions as this webpage, but in a form
that is viewable and editable as an <code>R</code> file.
<ul>
<li><a href="scripts/practical_1-1.R">Practical 1 R Script</a></li>
</ul></li>
<li>Now open the script file in RStudio, either by going File &gt; Open
and selecting the file, or by dragging and dropping the file into
Rstudio.
</div></li>
</ul>
<p>You’ll now see that the default RStudio environment is divided in 4
panels, with the default arrangement illustrated below. Going
anticlockwise, the four panels are: Code; Console; Plots, Help, and
Files; and Workspace and History.</p>
<p>If you want to rearrange which panes go where, go to the Options
dialog <strong>Tools &gt; Options</strong> menu on Windows
(<strong>RStudio &gt; Preferences</strong> on a Mac). You’ll find a
‘Panes’ tab where you can rearrange the layout to your preference.</p>
<p><img src="rstudio.png" /></p>
<ul>
<li><p><strong>Code Editor</strong> – the main editor for your
<em>R</em> code. This should contain the practical script file that you
have just downloaded and opened. This pane is hidden at first, however
when you load or start a new <em>R</em> script file it will be
displayed. R code can be entered here, and it provides support such as
auto-complete using <code>[Tab]</code>, colour highlighting, and
additional buttons and menu items to help edit and evaluate your code.
In particular, a single line of code (or any selected block of code) can
be evaluated in one go by typing <code>[Ctrl]+[Enter]</code>
(<code>[Cmd]+[Enter]</code> for a Mac), and the whole file can be
evaluated with <code>[Ctrl]+[Shift]+[S]</code>
(<code>[Cmd]+[Shift]+[S]</code> for a Mac).</p></li>
<li><p><strong>R Console</strong> – this pane is where your code from
the Editor is evaluated by <em>R</em>. You can also use the console here
to execute quick calculations that you don’t need to save. Commands
entered in the <em>Console</em> tab are immediately executed by
<em>R</em>, and the results displayed on the following line. In this
way, <em>R</em> can be used as a simple calculator by typing directly
into the <em>Console</em> window. However, for more complex calculations
with many steps it is preferable to write the code in a script file
using the <em>Code</em> pane first, and then evaluate it in the
<em>Console</em>. Note: when in the <em>Console</em> pane, you can use
the <i class="fa fa-toggle-up"></i> (up arrow) and
<i class="fa fa-toggle-down"></i> (down arrow) keys to navigate through
previous commands (e.g. to correct mistakes).</p></li>
<li><p><strong>Plots, Help, and Files</strong> – this pane has multiple
roles indicated by the tabs along its top. The <em>Plots</em> tab will
show the results of any plots you produce in <em>R</em>, as well as
buttons to save, clear, and backtrack through previous plots. The
<em>Help</em> tab is where RStudio will display any built-in help files.
The <em>Files</em> tab provides a simple file viewer to quickly navigate
between and open files.</p></li>
<li><p><strong>Workspace and History</strong> – this pane has two
functions, also indicated by tabs. The <em>Environment</em> tab lists
all the variables you have currently available in this session of R,
along with their types and values. The <em>History</em> tab shows a list
of all the <em>R</em> commands you have evaluated in the
console.</p></li>
</ul>
<p>For more detailed help on the RStudio programming environment, see <a
href="rstudio-IDE.pdf">the RStudio cheatsheet.</a></p>
</div>
<div id="first-steps" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> First steps</h2>
<p>When we just want to do small and quick calculations, we can type R
commands directly into the console window. These commands will be
evaluated immediately and the answer returned on the next line.</p>
Let’s try some simple arithmetic:
<div class="technique">
<p>At the <code>&gt;</code> prompt in the console you can type numerical
expressions as you would into a calculator, hit [Enter] and
<code>R</code> will print the answer.</p>
<p><em>R</em> can be used as a calculator to perform the usual simple
arithmetic operations. The operators are:</p>
<ul>
<li><code>+</code> addition</li>
<li><code>-</code> subtraction</li>
<li><code>*</code> multiplication</li>
<li><code>/</code> division</li>
<li><code>^</code> raise to the power (alternatively <code>**</code>
also works)</li>
<li><code>%%</code> modulus, e.g. <code>5 %% 3</code> is
<code>2</code></li>
<li><code>%/%</code> integer division, e.g. <code>5 %/% 3</code> is
<code>1</code></li>
</ul>
<p>Many standard mathematical functions are also available:</p>
<ul>
<li><code>abs(x)</code> - the absolute value of <code>x</code></li>
<li><code>sqrt(x)</code> - the square root of <code>x</code></li>
<li><code>log(x)</code> - the natural logarithm of <code>x</code> (use
<code>log10</code> for base-10)</li>
<li><code>exp(x)</code> - the exponential of <code>x</code>, i.e. <span
class="math inline">\(e^x\)</span>.</li>
<li><code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code> - the
sine, cosine, and tangent</li>
</ul>
</div>

<div class="question">
<ul>
<li>Experiment using the R Console to evaluate simple arithmetic
expressions. For example, find the sum and difference of 45.23 and 3.59,
and the square root of 7.</li>
<li>When you’re comfortable with how simple commands work, proceed to
the next question.
</div></li>
</ul>
<p>When we want to save the code for our calculations or the calculation
is long and requires many steps, its better to write the code in a
script file in the Editor pane. Then, when the code is ready, we can
evaluate it either line-by-line, or all in one go.</p>

<div class="question">
<ul>
<li>In the script file, use the gap below to write the <code>R</code>
command to find <span class="math inline">\(\sum_{i=1}^5
i^i\)</span>.</li>
<li>There are many ways to evaluate the code. Rather than re-typing in
the console, or copy/pasting the code, <code>RStudio</code> gives us
some shortcuts.</li>
<li>First, position the text cursor on the line with the code and:
<ul>
<li>Click the <code>Run</code> button at the top of the Editor window to
execute the current line</li>
<li>Move the cursor back to the line of code and press
<code>[Ctrl]+[Enter]</code>
</div></li>
</ul></li>
</ul>
<p>In both cases, the line of code is copied to the console and
evaluated, and the cursor advances to the next line of executable code.
Pressing <code>[Ctrl]+[Enter]</code> will step through your code one
line at a time, which is useful to find any bugs. Alternatively, to run
multiple lines at once simply highlight the lines you want to run and
click <code>Run</code> or press <code>[Ctrl]+[Enter]</code>. We can also
save and evaluate an entire script file by pressing
<code>[Ctrl]+[Shift]+[S]</code>. This is useful when you’ve finished a
long calculation and don’t want to step through it line-by-line.</p>
</div>
</div>
<div id="variables-and-vectors" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Variables and
Vectors</h1>
<p>During an R session we work with and create variables. Variables can
be a scalars, vectors, matrices, functions, or lists. In order to create
a new object we use the assign symbol <code>&lt;-</code>, although one
can often use <code>=</code> instead. For example, to create the object
<code>a</code> with a value of 2 we can type:</p>
<pre class="r"><code>a &lt;- 2</code></pre>
<p>or</p>
<pre class="r"><code>a = 2</code></pre>
<p>R has many variables and functions available by default, and many
many more that can be downloaded using special libraries.</p>
<p>For each of these standard objects R provides online help, which can
be dislpayed in the Help window. To access this help type <code>?</code>
followed immediately by the name of the object in question.</p>

<div class="question">
<ul>
<li>R stores the value of <span class="math inline">\(\pi\)</span> in a
constant called <code>pi</code>.
<ul>
<li>Display the value of <span class="math inline">\(\pi\)</span> by
evaluating <code>pi</code> in the console.</li>
<li>Use the <code>?</code> to bring up the help for <code>pi</code> (you
don’t need to read it)
</div></li>
</ul></li>
</ul>
<p>Vectors are the most basic type of variable in R, and all numerical
variables are created as vectors - even scalars are vectors of length 1.
Formally, <code>R</code> stores a vector as an ordered list numbers, and
<code>R</code> contains many linear algebra tools that allow us to
perform basic vector calculus (one of the many reasons why
<code>R</code> is preferred to Excel).</p>
<p>The object you have just created, <code>a</code>, is a vector of
length 1. When you type <code>a</code> and press <code>[Enter]</code>
you will see the following output (without the <code>##</code>):</p>
<pre><code>## [1] 2</code></pre>
<p>The [1] is a number indicating which element of the vector starts the
current line. In this example this is unnecessary as we only have a
vector of length one. However, if we consider a bigger vector, such as
the integers from 1 to 50:</p>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
<p>we can see that the vector covers multiple lines, the second line
begins with element 24 of the vector, and the final line begins at
element 47.</p>

<div class="technique">
<p>The most basic way to create a vector is to use th <code>c</code>
function to ‘<code>c</code>ombine’ several values of the same type into
a vector. For example,</p>
<p><code>x &lt;- c(1,2,3)</code></p>
<p><em>R</em> provides some simple functions for quickly creating
numerical vectors.</p>
<p>We can use the colon <code>:</code> operator to create integer
sequences between two values and return the result as a vector:</p>
<p><code>y &lt;- 1:10</code></p>
<p>Vectors can also be combined with the <code>c</code> function:</p>
<p><code>z &lt;- c(x,y)</code></p>
<p>The <code>seq</code> function also generates a vector containing a
sequence between its two arguments <code>from</code> and
<code>to</code>, but is more sophisticated than <code>:</code>. We can
dictate the length of the sequence by supplying the optional
<code>length</code> argument, or the step size in the sequence by
passing a value to the <code>by</code> argument. If we supply neither
<code>length</code> nor <code>by</code>, then <code>seq</code> gives an
integer sequence like <code>:</code>.</p>
<p><code>y &lt;- seq(1,9) ## same as 1:9</code></p>
<p><code>seq(1,10,length=25) ## sequence of given length</code></p>
<p><code>seq(15,45,by=3) ## sequence of given step</code></p>
<p>See the RHelp on <a href="r_4_vectors.html">vectors</a> for more
information.</p>
</div>

<div class="question">
<p>Using the techniques above:</p>
<ul>
<li>Create the vector <span class="math inline">\((2, 4, 6)\)</span> in
<code>R</code> and call it <code>v1</code>.</li>
<li>Create the same vector using the object <code>a</code> that you
defined before, and without typing the numbers 4 or 6. <em>Hint</em>:
multiplication also works for evey element in a vector.</li>
<li>Create a vector containing all of the integers from 1 to 100.</li>
<li>Create a vector containing the sequence of odd numbers between 0 and
100.</li>
<li>Create a vector containing your forename, middle names (if any), and
surname as a string. <em>Hint</em>: A string is simply some text
surrounded by the quotation marks “text” or ‘text’.
</div></li>
</ul>
<p>Assigning names to the objects you create is very important so that
they can be re-used. To edit or repeat previous commands in the console,
we can simply press the <i class="fa fa-toggle-up"></i> (up arrow) and
the <i class="fa fa-toggle-down"></i> (down arrow) keys to navigate
through previous commands (e.g. to correct mistakes). However, it is
often much easier to use the Editor, rather than the console, to debug
any problems.</p>
</div>
<div id="loading-data" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Loading data</h1>
<p>Most real data will have to be imported into <code>R</code> from an
external data file, or will be provided by a library or package. For
these practicals, we have already tidied and processed the data, so we
just need to load the data file.</p>
<p><i class="fa fa-database"></i> Download data: <a
href="hospital.Rda">hospital</a></p>
<p>First, right-click and save the data from the link above to the same
place as your practical script file. Then you can load the file by any
of the following methods (in descending order of difficulty):</p>
<ul>
<li>dragging and dropping it into the Console panel of Rstudio</li>
<li>locating it using the Files panel of Rstudio and then clicking on
the file</li>
<li>or with the <code>load</code> function and give it the path to the
file as an argument</li>
</ul>
<p>This will create a <code>hospital</code> data set object in R for you
to use in the following.</p>
<p>You should now view the data either in the console by typing</p>
<pre class="r"><code>hospital</code></pre>
<p>or in a spreadsheet layout with the <code>View</code> function:</p>
<pre class="r"><code>View(hospital)</code></pre>
<p>To see a brief description of the data set and its variables, <a
href="data_hospital.html">see this page</a>.</p>
</div>
<div id="data-frames" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Data frames</h1>
<p>A <em>data frame</em> which is a two-dimensional table of data (like
a matrix) where each column contains values of one variable, and each
row contains one set of values from each observation. Each column is
labelled with a variable name, and the values within each column must be
of the same type but the types of data held in each column can differ
according to the type of variable it represents. The data set
<code>hospital</code> that we have just loaded is a data frame.</p>
<p>The rows and columns of data frames can be extracted as vectors
allowing us to easily perform calculations of summary statistics, for
example. In the <code>hospital</code> data, we see that the data
contains 3 columns each with different names.</p>

<div class="technique">
<p>We can extract individual columns from a data frame by using the
variable name and the dollar-sign <code>$</code>. For example, to
extract the <code>beds</code> column from <code>hospital</code> we would
type:</p>
<p><code>hospital$beds</code></p>
<p>We can extract a vector containing all of the column names for a
given data frame using the <code>names</code> function:</p>
<p><code>names(hospital)</code></p>
</div>

<div class="question">
<ul>
<li>Use the <code>names</code> function to extract the names of the
variables in the hospital data.</li>
<li>Create new vectors called <code>beds</code> and <code>discs</code>
containing the data for the number of beds, and number of discharges in
the hospital data respectively.
</div></li>
</ul>

<div class="technique">
<p>When a vector represents numerical data, there are a number of
standard functions that will be useful for any statistical
calculations:</p>
<ul>
<li><code>sum</code> sums all values in the vector</li>
<li><code>mean</code> computes the sample mean, i.e. <span
class="math inline">\(\frac{1}{n} \sum_{i=1}^n x_i\)</span>. Note that
if given a data matrix, <code>mean</code> will average <em>all</em>
elements rather than computing the sample mean vector.</li>
<li><code>median</code> computes the sample median value</li>
<li><code>min</code> and <code>max</code> compute the sample minimum and
maximum</li>
<li><code>range</code> computes the min and max values.</li>
<li><code>var</code> and <code>sd</code> compute the <em>sample</em>
variance and standard deviation, i.e. <span
class="math inline">\(s^2=\frac{1}{n-1} \sum_{i=1}^n
(x_i-\bar{x})^2\)</span> for single variables. <code>var</code> will
produce the sample variance matrix if supplied with a data matrix.</li>
<li><code>quantile</code> computes the min, max, median, and lower and
upper quartiles. Other quantiles can be computed using the
<code>probs</code> argument</li>
<li><code>summary</code> calculates the min, max, mean, median, and
quantiles.
</div></li>
</ul>

<div class="question">
<ul>
<li>Compute the mean, standard deviation and range (max - min) of the
discharges data.
</div></li>
</ul>
</div>
<div id="simple-plots" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Simple plots</h1>
<p>One of <code>R</code>’s greatest strengths is the facility it
provides for producing effective graphics. In the following tasks we
will use some of the key plotting tools to study the
<code>hospital</code> data.</p>

<div class="technique">
<p>The <code>plot</code> function produces a scatterplot of its two
arguments. Suppose we have saved our <span
class="math inline">\(x\)</span> coordinates in a vector <code>a</code>,
and our <span class="math inline">\(y\)</span> coordinates in a vector
<code>b</code>, then to draw a scatterplot of <span
class="math inline">\((x,y)\)</span> we type</p>
<p><code>plot(x=a, y=b)</code></p>
<p>If the argument labels <code>x</code> and <code>y</code> are not
supplied, <em>R</em> will assume the first argument is <code>x</code>
and the second is <code>y</code>. If only one vector of data is
supplied, this will be taken as the <span
class="math inline">\(y\)</span> value and will be plotted against the
integers <code>1:length(y)</code>, i.e. in the sequence in which they
appear in the data.</p>
<p>All of the standard plot functions can be customised by passing
additional arguments to the function. For instance, we can add a plot
title and axis labels by supplying optional arguments:</p>
<ul>
<li><code>main</code> - provides a title to display at the top of the
plot</li>
<li><code>xlab</code> - provides a label for the horizontal axis</li>
<li><code>ylab</code> - provides a label for the vertical axis</li>
</ul>
<p>For example,</p>
<p><code>plot(x=a,y=b, xlab='A', ylab='B', main='Plot of B vs A')</code></p>
<p><em>Note</em>: Once a plot has been drawn, it is not possible to
erase any features from it - we can only add extra lines or points to
it. So, if you make a mistake drawing your plot then you’ll need to
start over with a fresh one by calling <code>plot</code> again.</p>
</div>

<div class="question">
<ul>
<li>Produce a scatter-plot of discharges (vertically) against beds
(horizontally) using <code>plot</code>. The scatterplot will appear in
the ‘Plots’ sub-window.</li>
<li>Redraw the plot, labelling the axes <code>Beds</code> and
<code>Discharges</code>.</li>
<li>What do you notice about the relationship?
</div></li>
</ul>
<p><img src="practical_1-1_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>

<div class="technique">
<p>A <a href="https://en.wikipedia.org/wiki/Histogram">histogram</a>
consists of parallel vertical bars that graphically shows the frequency
distribution of a quantitative variable. The area of each bar is
proportional to the frequency of items found in each class. To plot a
histogram, we use the <code>hist</code> function and apply it to a
single vector of data</p>
<p><code>hist(x)</code></p>
<p>As with <code>plot</code>, we can use <code>main</code> and
<code>xlab</code> to set the plot title and horizontal axis label.</p>
<p>Histogram also takes a number of arguments specific to the plotting
of histograms:</p>
<ul>
<li><code>breaks</code> - allows us to control the number of bars in the
histogram. If <code>breaks</code> is set to a single number, this will
be used to (suggest) the number of bars in the histogram. If
<code>breaks</code> is set to a vector, the values will be used to
indicate the endpoints of the bars of the histogram. <em>Note</em>:
<code>R</code> interprets this number as a suggestion only.</li>
<li><code>freq</code> - if <code>TRUE</code> the histogram shows the
simple frequencies or counts within each bar; if <code>FALSE</code> then
the histogram shows frequency densities rather than counts.</li>
</ul>
</div>

<div class="question">
<ul>
<li>Produce a histogram of <code>discharges</code> from the
<code>hospital</code> data.</li>
<li>Produce a histogram of the <code>beds</code> data. What do you
notice about the two variables?</li>
<li>Increase the number of bars in the discharges histogram. Does this
change your perception of the distribution of the discharges data. How
about if you decrease the number of cells?
</div></li>
</ul>

<div class="technique">
<p>A boxplot provides a graphical view of the median, quartiles,
maximum, and minimum of a data set. A box plot is a bit like a histogram
seen from above. The full name is ‘box and whisker’ plot. The ‘box’
shows the middle 50% of the observations, from the first to the third
quartile. Inside the box, the line shows the median (which is the second
quartile). The ‘whiskers’ show the full range of the data, although in
<code>R</code> there is the possibility of excluding outliers, which
appear as individual points.</p>
<p>To draw a boxplot of a single variable we simply pass the data
directly to the <code>boxplot</code> function:</p>
<p><code>boxplot(x)</code></p>
<p>To draw multiple boxplots within the same plot, we can pass multiple
vectors separated by commas as arguments
(e.g. <code>boxplot(x,y,z)</code>). We can even pass an entire dataframe
to the boxplot function, and it will draw boxplots of all the columns
within a single plot.</p>
</div>

<div class="question">
<ul>
<li>Draw a boxplot of the discharges data. Compare this to the Histogram
of discharges.</li>
<li>Draw a boxplot of the beds and discharges data on the same y-axis
using the boxplot function only once.
</div></li>
</ul>
<div id="advanced-plots" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Advanced plots</h2>
<p>When performing a statistical analysis it is important that you make
your graphics informative as possible. This will aid you, as the
statistician, in spotting relation- ships and performing the analysis,
and will aid those to whom the analysis is going to be communicated.
Often this involves adding simple things like colour or tweak- ing some
of the default settings of the plotting region. In other cases we might
plot things together to facilitate easy comparison. We’ll now explore
some simple ways of improving the plots we constructed earlier.</p>

<div class="question">
<ul>
<li>Read the help page on <a href="r_8_advplots.html#col">using colour
in plots</a> and experiment with redrawing your scatterplot using colour
for the points.</li>
<li>Now try <a href="r_8_advplots.html#pch">changing the plot
symbols</a> to something that you think looks best.</li>
<li>Read up about using the <code>par</code> function to <a
href="r_7_plots.html#par-mfrow">combine multiple plots</a>.
<ul>
<li>Divide the plotting region into two panes (one on top of the
other).</li>
<li>Now redraw the histogram of discharges above of the histogram of
beds from the <code>hospital</code> data. Does this make comparison of
the distributions easier?
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="additional-exercises" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Additional
exercises</h1>
<div id="how-long-is-a-movie" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> How long is a
movie?</h2>
<p><i class="fa fa-database"></i> Download data: <a
href="movies.Rda">movies</a></p>
<p>Multivariate statistics inevitably involves working with large data
sets. The effort involved in preparing and making a large dataset usable
for analysis should not be underestimated, but thankfully we’re going to
look at a dataset that has been “prepared earlier”. This
<code>movies</code> data set is reasonably large(ish), containing 24
different attributes of 28819 movies gathered from <a
href="http://imdb.com">IMDB</a>. One of the variables is the movie
length in minutes, and it is interesting to look at this variable in
some detail.</p>
<p>In this exercise we’ll use the basic techniques above to investigate
the behaviour of the data, and see if we can find (and explain) any
interesting features. This process is known as <em>data exploration</em>
or <em>exploratory analysis</em>, and is usually the precursor to more
formal statistical analyses.</p>

<div class="question">
<ul>
<li>Download the data from the link above. Then either load the file by
dragging and dropping it into the R console panel of Rstudio, locating
it using the Files panel of Rstudio and clicking, or with the
<code>load</code> function by specifying the file location.</li>
<li>Download load the <code>movies</code> data set, load it into R, and
draw a histogram of the <code>length</code> variable.</li>
<li>What features can you see?</li>
<li>Sometimes it can be useful to expose where exactly the data values
are within the bars of the histogram. For this, we can use a
<em>rugplot</em> using the <code>rug</code> function. Add a rugplot to
the histogram - what problems does this highlight?</li>
<li>Let’s try a boxplot of the data - do we learn anything more?</li>
<li>Are there any movies which differ substantially from all the others
(potential <em>outliers</em>)?
</div></li>
</ul>
Clearly, our data are distorted by some particularly unusal movies.
Let’s look at these a little more closely.
<div class="question">
<ul>
<li>What are the lengths of the two longest movies?</li>
<li>Do the lengths of these movies seem sensible?
</div></li>
</ul>
<p>Although it’s tempting to dismiss these as simple errors, it is worth
checking if possible.</p>

<div class="question">
<ul>
<li>Extract the subset of the dataframe containing all the variables for
both of these movies</li>
<li>Inspect the variable values:
<ul>
<li>The variables <code>r1</code> to <code>r10</code> give the
percentage of reviews which rated the movie as a <code>1</code> up to a
<code>10</code> out of <code>10</code>. Are these movies particularly
popular?</li>
<li>What are the names of the movies? Do a quick Google search to see if
you can find out more.
</div></li>
</ul></li>
</ul>
<p>Incidentally, this data set is no longer up-to-date and there are
some even longer films now (though it’s a mystery why.)</p>
<p>Clearly, the extreme values are not representative of most movies and
so - for not - let’s ignore them. For exploring the main distribution of
movie lengths it makes sense to set some kind of upper limit. Over 99%
of the data are less than three hours in length, so let’s restrict
ourselve to those.</p>

<div class="question">
<ul>
<li>Extract the all the movies of length <em>at most</em> three
hours.</li>
<li>Draw a histogram - what do you find?
</div></li>
</ul>
<p>Useful context:</p>
<ul>
<li>The Oscars define a “short film” as anything under 40 minutes.</li>
<li>Animated shorts are typically between 5 and 8 minutes long, and are
counted as individual movies (so, e.g., every ‘Tom and Jerry’ or ‘Mickey
Mouse’ cartoon has its own entry).</li>
</ul>

<div class="question">
<ul>
<li>Redraw your histogram using a bin-width of 1 minute (you may need to
enlarge your plot window).</li>
<li>What do you see? How does the information above help explain the
data?
</div></li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
